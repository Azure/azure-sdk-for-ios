<!DOCTYPE html>
<html lang="en">
  <head>
    <title>AzureCommunicationChat  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="AzureCommunicationChat  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          AzureCommunicationChat 1.3.1 Docs
        </a>
         (88% documented)
      </p>
    
      <div class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </div>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/Azure/azure-sdk-for-ios">
            <img class="header-icon" src="img/gh.png" alt="GitHub"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">AzureCommunicationChat Reference</a>
      <img class="carat" src="img/carat.png" alt=""/>
      AzureCommunicationChat  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/AppGroupPushNotificationKeyStorage.html">AppGroupPushNotificationKeyStorage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BaseChatEvent.html">BaseChatEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BaseChatMessageEvent.html">BaseChatMessageEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BaseChatThreadEvent.html">BaseChatThreadEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChatClient.html">ChatClient</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChatError.html">ChatError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChatMessageDeletedEvent.html">ChatMessageDeletedEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChatMessageEditedEvent.html">ChatMessageEditedEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChatMessageReceivedEvent.html">ChatMessageReceivedEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChatThreadClient.html">ChatThreadClient</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChatThreadCreatedEvent.html">ChatThreadCreatedEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChatThreadDeletedEvent.html">ChatThreadDeletedEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChatThreadPropertiesUpdatedEvent.html">ChatThreadPropertiesUpdatedEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ParticipantsAddedEvent.html">ParticipantsAddedEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ParticipantsRemovedEvent.html">ParticipantsRemovedEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PushNotificationChatMessageEvent.html">PushNotificationChatMessageEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PushNotificationChatMessageReceivedEvent.html">PushNotificationChatMessageReceivedEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ReadReceiptReceivedEvent.html">ReadReceiptReceivedEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/TypingIndicatorReceivedEvent.html">TypingIndicatorReceivedEvent</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ChatEventId.html">ChatEventId</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ChatMessageType.html">ChatMessageType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/CommunicationCloudEnvironmentModel.html">CommunicationCloudEnvironmentModel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/CommunicationSignalingError.html">CommunicationSignalingError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/PushNotificationChatEventType.html">PushNotificationChatEventType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/PushNotificationEvent.html">PushNotificationEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/TrouterEvent.html">TrouterEvent</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/PushNotificationKeyStorage.html">PushNotificationKeyStorage</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AddChatParticipantsOptions.html">AddChatParticipantsOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AddChatParticipantsResult.html">AddChatParticipantsResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AzureCommunicationChatClientOptions.html">AzureCommunicationChatClientOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AzureCommunicationChatClientOptions/ApiVersion.html">â€“ ApiVersion</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChatMessage.html">ChatMessage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChatMessageContent.html">ChatMessageContent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChatMessageReadReceipt.html">ChatMessageReadReceipt</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChatMessageReadReceiptsCollection.html">ChatMessageReadReceiptsCollection</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChatMessagesCollection.html">ChatMessagesCollection</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChatParticipant.html">ChatParticipant</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChatParticipantsCollection.html">ChatParticipantsCollection</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChatThreadItem.html">ChatThreadItem</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChatThreadProperties.html">ChatThreadProperties</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChatThreadsItemCollection.html">ChatThreadsItemCollection</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CommunicationErrorResponse.html">CommunicationErrorResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CommunicationUserIdentifierModel.html">CommunicationUserIdentifierModel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CreateChatThreadOptions.html">CreateChatThreadOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CreateChatThreadRequest.html">CreateChatThreadRequest</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CreateChatThreadResult.html">CreateChatThreadResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/DeleteChatMessageOptions.html">DeleteChatMessageOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/DeleteChatThreadOptions.html">DeleteChatThreadOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/GetChatMessageOptions.html">GetChatMessageOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/GetChatThreadPropertiesOptions.html">GetChatThreadPropertiesOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ListChatMessagesOptions.html">ListChatMessagesOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ListChatParticipantsOptions.html">ListChatParticipantsOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ListChatReadReceiptsOptions.html">ListChatReadReceiptsOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ListChatThreadsOptions.html">ListChatThreadsOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MicrosoftTeamsUserIdentifierModel.html">MicrosoftTeamsUserIdentifierModel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PhoneNumberIdentifierModel.html">PhoneNumberIdentifierModel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/RemoveChatParticipantOptions.html">RemoveChatParticipantOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SendChatMessageOptions.html">SendChatMessageOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SendChatMessageRequest.html">SendChatMessageRequest</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SendChatMessageResult.html">SendChatMessageResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SendChatReadReceiptOptions.html">SendChatReadReceiptOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SendReadReceiptRequest.html">SendReadReceiptRequest</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SendTypingNotificationOptions.html">SendTypingNotificationOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SendTypingNotificationRequest.html">SendTypingNotificationRequest</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SignalingChatParticipant.html">SignalingChatParticipant</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SignalingChatThreadProperties.html">SignalingChatThreadProperties</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/UpdateChatMessageOptions.html">UpdateChatMessageOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/UpdateChatMessageRequest.html">UpdateChatMessageRequest</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/UpdateChatThreadPropertiesOptions.html">UpdateChatThreadPropertiesOptions</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:22AzureCommunicationChat0B21SignalingErrorHandlera">CommunicationSignalingErrorHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:22AzureCommunicationChat19TrouterEventHandlera">TrouterEventHandler</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <h1 id='azure-communication-chat-service-client-library-for-ios' class='heading'>Azure Communication Chat Service client library for iOS</h1>

<p>This package contains the Chat client library for Azure Communication Services.</p>

<p><a href="https://github.com/Azure/azure-sdk-for-ios/tree/main/sdk/communication/AzureCommunicationChat">Source code</a>
| <a href="https://azure.github.io/azure-sdk-for-ios/AzureCommunicationChat/index.html">API reference documentation</a>
| <a href="https://docs.microsoft.com/azure/communication-services/overview">Product documentation</a></p>
<h2 id='getting-started' class='heading'>Getting started</h2>
<h3 id='prerequisites' class='heading'>Prerequisites</h3>

<ul>
<li>The client library is written in modern Swift 5. Due to this, Xcode 10.2 or higher is required to use this library.</li>
<li>You must have an <a href="https://azure.microsoft.com/free/">Azure subscription</a> and a
<a href="https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource">Communication Services resource</a> to use this library.</li>
</ul>
<h3 id='install-the-library' class='heading'>Install the library</h3>

<p>To install the Azure client libraries for iOS, we recommend you use
<a href="#add-a-package-dependency-with-swift-package-manager">Swift Package Manager</a>.
As an alternative, you may also integrate the libraries using
<a href="#integrate-the-client-libraries-with-cocoapods">CocoaPods</a>.</p>
<h4 id='add-a-package-dependency-with-swift-package-manager' class='heading'>Add a package dependency with Swift Package Manager</h4>

<p>The <a href="https://swift.org/package-manager/">Swift Package Manager</a> is a tool for managing the distribution of Swift code.
Itâ€™s integrated with the Swift build system to automate the process of downloading, compiling, and linking dependencies.</p>

<p>Xcode comes with built-in support for Swift Package Manager and source control accounts and makes it easy to leverage
available Swift packages. Use Xcode to manage the versions of package dependencies and make sure your project has the
most up-to-date code changes.</p>
<h5 id='xcode' class='heading'>Xcode</h5>

<p><strong>Important:</strong> AzureCommunicationChat currently does not support arm64 for iOS Simulator. If you are developing on M1 please run Xcode with Rosetta. See <a href="https://github.com/Azure/azure-sdk-for-ios/issues/787">#787</a></p>

<p>To add the library to your application, follow the instructions in
<a href="https://developer.apple.com/documentation/xcode/adding_package_dependencies_to_your_app">Adding Package Dependencies to Your App</a>:</p>

<p>In order to independently version packages with Swift Package Manager, we mirror the code from azure-sdk-for-ios into separate
repositories. Your Swift Package Manager-based app should target these repositories instead of the azure-sdk-for-ios repo.</p>

<p>With your project open in Xcode 11 or later, select <strong>File &gt; Swift Packages &gt; Add Package Dependency&hellip;</strong> Enter the
clone URL of the Swift Package Manager mirror repository: <em><a href="https://github.com/Azure/SwiftPM-AzureCommunicationChat.git">https://github.com/Azure/SwiftPM-AzureCommunicationChat.git</a></em>
and click <strong>Next</strong>. For the version rule, specify the exact version or version range you wish to use with your application and
click <strong>Next</strong>. Finally, place a checkmark next to the library, ensure your application target is selected in the <strong>Add to target</strong>
dropdown, and click <strong>Finish</strong>.</p>
<h5 id='swift-cli' class='heading'>Swift CLI</h5>

<p>To add the library to your application, follow the example in
<a href="https://swift.org/package-manager/#importing-dependencies">Importing Dependencies</a>:</p>

<p>Open your project&rsquo;s <code>Package.swift</code> file and add a new package dependency to your project&rsquo;s <code>dependencies</code> section,
specifying the clone URL of this repository and the version specifier you wish to use:</p>
<pre class="highlight swift"><code><span class="c1">// swift-tools-version:5.3</span>
    <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">...</span>
        <span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"AzureCommunicationChat"</span><span class="p">,</span> <span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/Azure/SwiftPM-AzureCommunicationChat.git"</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="s">"1.3.1"</span><span class="p">)</span>
    <span class="p">],</span>
</code></pre>

<p>Next, for each target that needs to use the library, add it to the target&rsquo;s array of <code>dependencies</code>:</p>
<pre class="highlight swift"><code>    <span class="nv">targets</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">...</span>
        <span class="o">.</span><span class="nf">target</span><span class="p">(</span>
            <span class="nv">name</span><span class="p">:</span> <span class="s">"MyTarget"</span><span class="p">,</span>
            <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="s">"AzureCommunicationChat"</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre>
<h4 id='integrate-the-client-libraries-with-cocoapods' class='heading'>Integrate the client libraries with CocoaPods</h4>

<p><a href="https://cocoapods.org">CocoaPods</a> is a dependency manager for Objective C and Swift projects. You can install it with
the following command:</p>
<pre class="highlight shell"><code><span class="nv">$ </span><span class="o">[</span><span class="nb">sudo</span><span class="o">]</span> gem <span class="nb">install </span>cocoapods
</code></pre>

<blockquote>
<p>CocoaPods 1.5+ is required.</p>
</blockquote>

<p>To integrate one or more client libraries into your project using CocoaPods, specify them in your
<a href="https://guides.cocoapods.org/using/the-podfile.html">Podfile</a>, providing the version specifier you wish to use. To
ensure compatibility when using multiple client libraries in the same project, use the same version specifier for all
Azure SDK client libraries within the project:</p>
<pre class="highlight ruby"><code><span class="n">platform</span> <span class="ss">:ios</span><span class="p">,</span> <span class="s1">'13.0'</span>

<span class="c1"># Comment the next line if you don't want to use dynamic frameworks</span>
<span class="n">use_frameworks!</span>

<span class="n">target</span> <span class="s1">'MyTarget'</span> <span class="k">do</span>
  <span class="n">pod</span> <span class="s1">'AzureCommunicationChat'</span><span class="p">,</span> <span class="s1">'1.3.1'</span>
  <span class="o">...</span>
<span class="k">end</span>
</code></pre>
<h2 id='key-concepts' class='heading'>Key concepts</h2>
<h3 id='user-and-user-access-tokens' class='heading'>User and User Access Tokens</h3>

<p>User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer <a href="https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens">here</a> to learn how to create a user and issue a User Access Token.</p>

<p>The id for the user created above will be necessary later to add said user as a participant of a new chat thread. The initiator of the create request must be in the list of participants of the chat thread.</p>
<h3 id='chat-thread' class='heading'>Chat Thread</h3>

<p>A chat conversation is represented by a chat thread. Each user in the thread is called a thread participant. Thread participants can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat.</p>

<p>Using the APIs, users can also send typing indicators when typing a message and read receipts for the messages they have read in a chat thread. To learn more, read about chat concepts <a href="https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts">here</a>.</p>
<h3 id='chatclient' class='heading'>ChatClient</h3>

<p><code><a href="Classes/ChatClient.html">ChatClient</a></code> is used for performing chat thread operations, listed below.</p>
<h4 id='initialization' class='heading'>Initialization</h4>

<p>To instantiate a ChatClient you will need the CommunicationServices resource endpoint, a CommunicationTokenCredential created from a User Access Token, and optional options to create the client with.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">AzureCommunicationCommon</span>
<span class="kd">import</span> <span class="kt">AzureCommunicationChat</span>
<span class="kd">import</span> <span class="kt">AzureCore</span>

<span class="k">let</span> <span class="nv">endpoint</span> <span class="o">=</span> <span class="s">"&lt;communication_resource_endpoint&gt;"</span>

<span class="k">let</span> <span class="nv">credential</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">CommunicationTokenCredential</span><span class="p">(</span><span class="o">&lt;</span><span class="s">"user_access_token&gt;"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">options</span> <span class="o">=</span> <span class="kt">AzureCommunicationChatClientOptions</span><span class="p">(</span>
    <span class="nv">logger</span><span class="p">:</span> <span class="kt">ClientLoggers</span><span class="o">.</span><span class="k">default</span><span class="p">,</span>
    <span class="nv">dispatchQueue</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">queue</span>
<span class="p">)</span>

<span class="k">let</span> <span class="nv">chatClient</span> <span class="o">=</span> <span class="kt">ChatClient</span><span class="p">(</span><span class="nv">endpoint</span><span class="p">:</span> <span class="n">endpoint</span><span class="p">,</span> <span class="nv">credential</span><span class="p">:</span> <span class="n">credential</span><span class="p">,</span> <span class="nv">withOptions</span><span class="p">:</span> <span class="n">options</span><span class="p">)</span>

</code></pre>
<h4 id='thread-operations' class='heading'>Thread Operations</h4>

<p>ChatClient supports the following methods, see the links below for examples.</p>

<ul>
<li><a href="#create-a-thread">Create a thread</a></li>
<li><a href="#get-a-threads-properties">Get a threads properties</a></li>
<li><a href="#list-threads">List threads</a></li>
<li><a href="#delete-a-thread">Delete a thread</a></li>
<li><a href="#get-a-thread-client">Get a thread client</a></li>
</ul>
<h3 id='chatthreadclient' class='heading'>ChatThreadClient</h3>

<p><code><a href="Classes/ChatThreadClient.html">ChatThreadClient</a></code> provides methods for operations within a chat thread, such as messaging and managing participants.</p>
<h4 id='initialization' class='heading'>Initialization</h4>

<p>ChatThreadClients should be created through the ChatClient. A ChatThreadClient is associated with a specific chat thread and is used to perform operations within the thread. See the list below for examples of each operation that ChatThreadClient supports.</p>
<h4 id='message-operations' class='heading'>Message Operations</h4>

<ul>
<li><a href="#send-a-message">Send a message</a></li>
<li><a href="#get-a-message">Get a message</a></li>
<li><a href="#list-messages">List messages</a></li>
<li><a href="#update-a-message">Update a message</a></li>
<li><a href="#delete-a-message">Delete a message</a></li>
<li><a href="#receive-messages-from-a-thread">Receive messages from a thread</a></li>
</ul>
<h4 id='thread-participant-operations' class='heading'>Thread Participant Operations</h4>

<ul>
<li><a href="#get-thread-participants">Get thread participants</a></li>
<li><a href="#add-thread-participants">Add thread participants</a></li>
<li><a href="#remove-a-thread-participant">Remove a thread participant</a></li>
</ul>
<h4 id='events-operations' class='heading'>Events Operations</h4>

<ul>
<li><a href="#send-a-typing-notification">Send a typing notification</a></li>
<li><a href="#send-read-receipt">Send read receipt</a></li>
<li><a href="#get-read-receipts">Get read receipts</a></li>
</ul>
<h4 id='thread-update-operations' class='heading'>Thread Update Operations</h4>

<ul>
<li><a href="#update-thread-topic">Update the thread topic</a></li>
</ul>
<h2 id='examples' class='heading'>Examples</h2>
<h3 id='thread-operations' class='heading'>Thread Operations</h3>
<h4 id='create-a-thread' class='heading'>Create a thread</h4>

<p>Use the <code>create</code> method of <code><a href="Classes/ChatClient.html">ChatClient</a></code> to create a new thread.</p>

<p>Thread creation may result in partial errors, meaning the thread was successfully created but certain participants failed to be added. Participants that failed to be added will be listed as part of the response.</p>

<ul>
<li><p><code><a href="Structs/CreateChatThreadRequest.html">CreateChatThreadRequest</a></code> is the model to pass to this method. It contains the topic of the thread as well as the optional participants to create the thread with.</p></li>
<li><p><code><a href="Structs/CreateChatThreadResult.html">CreateChatThreadResult</a></code> is the result returned from creating a thread.</p></li>
<li><p><code>chatThread</code> is the <code><a href="Structs/ChatThreadProperties.html">ChatThreadProperties</a></code> of the thread that was created.</p></li>
<li><p><code>invalidParticipants</code> is an array of errors for any participants that failed to be added to the thread.</p></li>
</ul>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">thread</span> <span class="o">=</span> <span class="kt">CreateChatThreadRequest</span><span class="p">(</span>
    <span class="nv">topic</span><span class="p">:</span> <span class="s">"General"</span>
<span class="p">)</span>

<span class="n">chatClient</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">thread</span><span class="p">:</span> <span class="n">thread</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="n">chatThreadResult</span><span class="p">):</span>
        <span class="c1">// Take further action</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='get-a-threads-properties' class='heading'>Get a threads properties</h4>

<p>Use the <code>getProperties</code> method of <code><a href="Classes/ChatThreadClient.html">ChatThreadClient</a></code> to retrieve a threads properties.</p>

<ul>
<li><code><a href="Structs/ChatThreadProperties.html">ChatThreadProperties</a></code> is the type that is returned. It contains information about the thread including the thread ID, the topic, when it was created or deleted, and who created it.</li>
</ul>
<pre class="highlight swift"><code><span class="n">chatThreadClient</span><span class="o">.</span><span class="n">getProperties</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="n">chatThreadProperties</span><span class="p">):</span>
        <span class="c1">// Take further action</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='list-threads' class='heading'>List threads</h4>

<p>Use the <code>listThreads</code> method to retrieve a list of threads.</p>

<ul>
<li><code><a href="Structs/ListChatThreadsOptions.html">ListChatThreadsOptions</a></code> is the object representing the options to pass.</li>
<li><code>maxPageSize</code>, optional, is the maximum number of messages to be returned per page. The limit can be found from <a href="https://docs.microsoft.com/azure/communication-services/concepts/service-limits">https://docs.microsoft.com/azure/communication-services/concepts/service-limits</a>.</li>
<li><code>startTime</code>, optional, is the thread start time to consider in the query.</li>
</ul>

<p><code>PagedCollection&lt;ChatThreadItem&gt;</code> is the response returned from listing threads.
<code><a href="Structs/ChatThreadItem.html">ChatThreadItem</a></code> represents a summary of information about the thread including the thread ID, topic, time of deletion, and time of last message received, as applicable.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">AzureCore</span>
<span class="k">let</span> <span class="nv">options</span> <span class="o">=</span> <span class="kt">ListChatThreadsOptions</span><span class="p">(</span><span class="nv">maxPageSize</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">chatClient</span><span class="o">.</span><span class="nf">listThreads</span><span class="p">(</span><span class="nv">withOptions</span><span class="p">:</span> <span class="n">options</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="n">listThreadsResponse</span><span class="p">):</span>
        <span class="k">var</span> <span class="nv">iterator</span> <span class="o">=</span> <span class="n">listThreadsResponse</span><span class="o">.</span><span class="n">syncIterator</span>
        <span class="k">while</span> <span class="k">let</span> <span class="nv">threadItem</span> <span class="o">=</span> <span class="n">iterator</span><span class="o">.</span><span class="nf">next</span><span class="p">()</span> <span class="p">{</span>
            <span class="c1">// Take further action</span>
        <span class="p">}</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='delete-a-thread' class='heading'>Delete a thread</h4>

<p>Use the <code>delete</code> method of <code><a href="Classes/ChatClient.html">ChatClient</a></code> to delete a thread.</p>

<ul>
<li><code>thread</code> is the unique ID of the thread.</li>
</ul>
<pre class="highlight swift"><code><span class="n">chatClient</span><span class="o">.</span><span class="nf">delete</span><span class="p">(</span><span class="nv">thread</span><span class="p">:</span> <span class="n">threadId</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">httpResponse</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">success</span><span class="p">:</span>
        <span class="c1">// Take further action</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h3 id='message-operations' class='heading'>Message Operations</h3>
<h4 id='send-a-message' class='heading'>Send a message</h4>

<p>Use the <code>send</code> method of <code><a href="Classes/ChatThreadClient.html">ChatThreadClient</a></code> to send a message to a thread.</p>

<ul>
<li><code><a href="Structs/SendChatMessageRequest.html">SendChatMessageRequest</a></code> is the model to pass to this method.</li>
<li><code>content</code>, required, is used to provide the chat message content.</li>
<li><code>senderDisplayName</code> is used to specify the display name of the sender, if not specified, an empty name will be set.</li>
<li><code>type</code> is the type of message being sent, the supported types are text and html.</li>
<li><code>metadata</code> is any additional metadata you would like to send with the message.</li>
</ul>

<p><code><a href="Structs/SendChatMessageResult.html">SendChatMessageResult</a></code> is the response returned from sending a message, it contains the unique ID of the message.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">message</span> <span class="o">=</span> <span class="kt">SendChatMessageRequest</span><span class="p">(</span>
    <span class="nv">content</span><span class="p">:</span> <span class="s">"Test message 1"</span><span class="p">,</span>
    <span class="nv">senderDisplayName</span><span class="p">:</span> <span class="s">"An Important person"</span>
<span class="p">)</span>

<span class="n">chatThreadClient</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">message</span><span class="p">:</span> <span class="n">message</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="n">createMessageResponse</span><span class="p">):</span>
        <span class="c1">// Take further action</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='get-a-message' class='heading'>Get a message</h4>

<p>Use the <code>get</code> method of <code><a href="Classes/ChatThreadClient.html">ChatThreadClient</a></code> to retrieve a message in a thread.</p>

<ul>
<li><code>message</code> is the unique ID of the message to retrieve.</li>
</ul>

<p><code><a href="Structs/ChatMessage.html">ChatMessage</a></code> is the response returned from getting a message. This object contains information about the message type, content, sender, the sequence of the message in the conversation, as well as information around when the message was created, deleted or edited.</p>
<pre class="highlight swift"><code><span class="n">chatThreadClient</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">message</span><span class="p">:</span> <span class="n">messageId</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
        <span class="c1">// Take further action</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='list-messages' class='heading'>List messages</h4>

<p>Use the <code>listMessages</code> method of <code><a href="Classes/ChatThreadClient.html">ChatThreadClient</a></code> to retrieve messages in a thread.</p>

<ul>
<li><code><a href="Structs/ListChatMessagesOptions.html">ListChatMessagesOptions</a></code> is the optional object representing the options to pass.</li>
<li><code>maxPageSize</code>, optional, is the maximum number of messages to be returned per page. The limit can be found from <a href="https://docs.microsoft.com/azure/communication-services/concepts/service-limits">https://docs.microsoft.com/azure/communication-services/concepts/service-limits</a>.</li>
<li><code>startTime</code>, optional, is the thread start time to consider in the query.</li>
</ul>

<p><code>&lt;PagedCollection&lt;ChatMessage&gt;</code> is the response returned from listing messages</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">dateFormatter</span> <span class="o">=</span> <span class="kt">DateFormatter</span><span class="p">()</span>
<span class="n">dateFormatter</span><span class="o">.</span><span class="n">dateFormat</span> <span class="o">=</span> <span class="s">"yyyy-MM-dd'T'HH:mm:ssZ"</span>

<span class="k">var</span> <span class="nv">options</span><span class="p">:</span> <span class="kt">ListChatMessagesOptions</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">if</span> <span class="k">let</span> <span class="nv">date</span> <span class="o">=</span> <span class="n">dateFormatter</span><span class="o">.</span><span class="nf">date</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="s">"2020-08-27T17:55:50Z"</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">options</span> <span class="o">=</span> <span class="kt">ListChatMessagesOptions</span><span class="p">(</span>
        <span class="nv">startTime</span><span class="p">:</span> <span class="n">date</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="n">client</span><span class="o">.</span><span class="nf">listMessages</span><span class="p">(</span><span class="nv">withOptions</span><span class="p">:</span> <span class="n">options</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="n">listMessagesResponse</span><span class="p">):</span>
        <span class="k">var</span> <span class="nv">iterator</span> <span class="o">=</span> <span class="n">listMessagesResponse</span><span class="o">.</span><span class="n">syncIterator</span>
        <span class="k">while</span> <span class="k">let</span> <span class="nv">message</span> <span class="o">=</span> <span class="n">iterator</span><span class="o">.</span><span class="nf">next</span><span class="p">()</span> <span class="p">{</span>
            <span class="c1">// Take further action</span>
        <span class="p">}</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='update-a-message' class='heading'>Update a message</h4>

<p>Use the <code>update</code> method of <code><a href="Classes/ChatThreadClient.html">ChatThreadClient</a></code> to update the content of a message.</p>

<ul>
<li><code>message</code> is the unique ID of the message.</li>
<li><code>parameters</code> contains the message content to be updated.</li>
</ul>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">updatedContent</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nv">content</span><span class="p">:</span> <span class="s">"Updated message content"</span>
<span class="p">}</span>
<span class="n">chatThreadClient</span><span class="o">.</span><span class="nf">update</span><span class="p">(</span><span class="nv">message</span><span class="p">:</span> <span class="n">messageId</span><span class="p">,</span> <span class="nv">parameters</span><span class="p">:</span> <span class="n">updatedContent</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="n">_</span><span class="p">):</span>
        <span class="c1">// Take further action</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='delete-a-message' class='heading'>Delete a message</h4>

<p>Use the <code>delete</code> method of <code><a href="Classes/ChatThreadClient.html">ChatThreadClient</a></code> to delete a message in a thread.</p>

<ul>
<li><code>message</code> is the unique ID of the message.</li>
</ul>
<pre class="highlight swift"><code><span class="n">chatThreadClient</span><span class="o">.</span><span class="nf">delete</span><span class="p">(</span><span class="nv">message</span><span class="p">:</span> <span class="n">messageId</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">success</span><span class="p">:</span>
        <span class="c1">// Take further action</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='receive-messages-from-a-thread' class='heading'>Receive messages from a thread</h4>

<p>With realtime notifications enabled you can receive events when messages are sent to the thread.
To enable realtime notifications use the <code>startRealtimeNotifications</code> method of <code><a href="Classes/ChatClient.html">ChatClient</a></code>. Starting notifications is an asynhronous operation.</p>
<pre class="highlight swift"><code><span class="n">chatClient</span><span class="o">.</span><span class="nf">startRealTimeNotifications</span><span class="p">()</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">success</span><span class="p">:</span>
        <span class="c1">// Notifications started</span>
    <span class="k">case</span> <span class="kd">let</span><span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Handle failure</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>To receive messages for a thread, use the <code>register</code> method of <code><a href="Classes/ChatClient.html">ChatClient</a></code>.</p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">handler</span> <span class="p">(</span><span class="nv">response</span><span class="p">:</span> <span class="kt">Any</span><span class="p">,</span> <span class="nv">eventId</span><span class="p">:</span> <span class="kt">ChatEventId</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Handle chatMessageReceived event</span>
<span class="p">}</span>

<span class="n">chatClient</span><span class="o">.</span><span class="nf">register</span><span class="p">(</span><span class="nv">event</span><span class="p">:</span> <span class="kt">ChatEventId</span><span class="o">.</span><span class="n">chatMessageReceived</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="n">handler</span><span class="p">)</span>

</code></pre>
<h3 id='thread-participant-operations' class='heading'>Thread Participant Operations</h3>
<h4 id='get-thread-participants' class='heading'>Get thread participants</h4>

<p>Use the <code>listParticipants</code> of <code><a href="Classes/ChatThreadClient.html">ChatThreadClient</a></code> method to retrieve the participants of the thread.</p>

<p><code>PagedCollection&lt;ChatParticipant&gt;</code> is the response returned from listing participants.
<code><a href="Structs/ChatParticipant.html">ChatParticipant</a></code> contains the identifier which holds the unique ACS user ID for this participant, as well as optional display name and share history time.</p>
<pre class="highlight swift"><code><span class="n">chatThreadClient</span><span class="o">.</span><span class="nf">listParticipants</span><span class="p">()</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="n">threadParticipants</span><span class="p">):</span>
        <span class="k">var</span> <span class="nv">iterator</span> <span class="o">=</span> <span class="n">threadParticipants</span><span class="o">.</span><span class="n">syncIterator</span>
        <span class="k">while</span> <span class="k">let</span> <span class="nv">threadParticipants</span> <span class="o">=</span> <span class="n">iterator</span><span class="o">.</span><span class="nf">next</span><span class="p">()</span> <span class="p">{</span>
            <span class="c1">// Take further action</span>
        <span class="p">}</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='add-thread-participants' class='heading'>Add thread participants</h4>

<p>Use the <code>add</code> method to add one or more participants to a thread.</p>

<ul>
<li><code>participants</code> is an array of <code><a href="Structs/ChatParticipant.html">ChatParticipant</a></code>&lsquo;s to add</li>
<li><code><a href="Structs/AddChatParticipantsResult.html">AddChatParticipantsResult</a></code> is the model returned, it contains an invalidParticipants property that has an array of ChatErrors describing any participants that failed to be added to the chat.</li>
</ul>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">threadParticipants</span> <span class="o">=</span> <span class="p">[</span><span class="kt">ChatParticipant</span><span class="p">(</span>
        <span class="nv">id</span><span class="p">:</span> <span class="n">userIdentifier</span><span class="p">,</span>
        <span class="nv">displayName</span><span class="p">:</span> <span class="s">"a new participant"</span>
    <span class="p">)]</span>

<span class="n">chatThreadClient</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="nv">participants</span><span class="p">:</span> <span class="n">threadParticipants</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
        <span class="c1">// Check for invalid participants</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='remove-a-thread-participant' class='heading'>Remove a thread participant</h4>

<p>Use the <code>remove</code> method of <code><a href="Classes/ChatThreadClient.html">ChatThreadClient</a></code> to remove a participant from a thread.</p>

<ul>
<li><code>participant</code> is the identifier of the participant to remove.</li>
</ul>
<pre class="highlight swift"><code><span class="n">chatThreadClient</span><span class="o">.</span><span class="nf">remove</span><span class="p">(</span><span class="nv">participant</span><span class="p">:</span> <span class="n">participantIdentifier</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">success</span><span class="p">:</span>
        <span class="c1">// Take further action</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h3 id='events-operations' class='heading'>Events Operations</h3>
<h4 id='send-a-typing-notification' class='heading'>Send a typing notification</h4>

<p>Use the <code>sendTypingNotification</code> method of <code><a href="Classes/ChatThreadClient.html">ChatThreadClient</a></code> to post a typing notification event to a thread, on behalf of a user.</p>
<pre class="highlight swift"><code><span class="n">chatThreadClient</span><span class="o">.</span><span class="nf">sendTypingNotification</span><span class="p">()</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">success</span><span class="p">:</span>
        <span class="c1">// Take further action</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='send-read-receipt' class='heading'>Send read receipt</h4>

<p>Use the <code>sendReadReceipt</code> method of <code><a href="Classes/ChatThreadClient.html">ChatThreadClient</a></code> to post a read receipt event to a thread, on behalf of a user.</p>

<p>-<code>forMessage</code> refers to the unique ID of the message that the read receipt is for.</p>
<pre class="highlight swift"><code>
<span class="n">chatThreadClient</span><span class="o">.</span><span class="nf">sendReadReceipt</span><span class="p">(</span><span class="nv">forMessage</span><span class="p">:</span> <span class="n">messageId</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">success</span><span class="p">:</span>
        <span class="c1">// Take further action</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='get-read-receipts' class='heading'>Get read receipts</h4>

<p>Use the <code>listReadReceipts</code> method of <code><a href="Classes/ChatThreadClient.html">ChatThreadClient</a></code> to retrieve read receipts for a thread.</p>

<p><code>PagedCollection&lt;ChatMessageReadReceipt&gt;</code> is the response returned from listing read receipts. <code><a href="Structs/ChatMessageReadReceipt.html">ChatMessageReadReceipt</a></code> contains the sender of the read receipt, the id of the message that was read, and the time that the message was read.</p>
<pre class="highlight swift"><code><span class="n">chatThreadClient</span><span class="o">.</span><span class="nf">listReadReceipts</span><span class="p">()</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="n">readReceipts</span><span class="p">):</span>
        <span class="k">var</span> <span class="nv">iterator</span> <span class="o">=</span> <span class="n">readReceipts</span><span class="o">.</span><span class="n">syncIterator</span>
        <span class="k">while</span> <span class="k">let</span> <span class="nv">readReceipt</span> <span class="o">=</span> <span class="n">iterator</span><span class="o">.</span><span class="nf">next</span><span class="p">()</span> <span class="p">{</span>
            <span class="c1">// Take further action</span>
        <span class="p">}</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h3 id='thread-update-operations' class='heading'>Thread Update Operations</h3>
<h4 id='update-the-thread-39-s-topic' class='heading'>Update the thread&rsquo;s topic</h4>

<p>Use the <code>update</code> method of <code><a href="Classes/ChatThreadClient.html">ChatThreadClient</a></code> to update a thread&rsquo;s topic.</p>

<ul>
<li><code>topic</code> is the thread&rsquo;s new topic.</li>
</ul>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">newTopic</span> <span class="o">=</span> <span class="s">"My new thread topic"</span>

<span class="n">chatThreadClient</span><span class="o">.</span><span class="nf">update</span><span class="p">(</span><span class="nv">topic</span><span class="p">:</span> <span class="n">newTopic</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">success</span><span class="p">:</span>
        <span class="c1">// Take further action</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h2 id='troubleshooting' class='heading'>Troubleshooting</h2>

<p>When an error occurs, the client calls the callback, passing in a <code>failure</code> result. You can use the provided error to act upon the failure.</p>
<pre class="highlight swift"><code><span class="n">client</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">thread</span><span class="p">:</span> <span class="n">thread</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
        <span class="c1">// Display error message</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>If you run into issues while using this library, please feel free to
<a href="https://github.com/Azure/azure-sdk-for-ios/issues/new">file an issue</a>.</p>
<h2 id='next-steps' class='heading'>Next steps</h2>

<p>More sample code should go here, along with links out to the appropriate example tests.</p>
<h2 id='contributing' class='heading'>Contributing</h2>

<p>This project welcomes contributions and suggestions. All code contributions should be made in the <a href="https://github.com/Azure/azure-sdk-for-ios">Azure SDK for iOS</a> repository.</p>

<p>Most contributions require you to agree to a Contributor License
Agreement (CLA) declaring that you have the right to, and actually do, grant us the rights to use your contribution. For
details, visit <a href="https://cla.microsoft.com">https://cla.microsoft.com</a>.</p>

<p>When you submit a pull request, a CLA-bot will automatically determine whether you need to provide a CLA and decorate
the PR appropriately (e.g., label, comment). Simply follow the instructions provided by the bot. You will only need to
do this once across all repositories using our CLA.</p>

<p>This project has adopted the <a href="https://opensource.microsoft.com/codeofconduct/">Microsoft Open Source Code of Conduct</a>.
For more information see the <a href="https://opensource.microsoft.com/codeofconduct/faq/">Code of Conduct FAQ</a> or contact
<a href="mailto:opencode@microsoft.com">opencode@microsoft.com</a> with any additional questions or comments.</p>

<p><img src="https://azure-sdk-impressions.azurewebsites.net/api/impressions/azure-sdk-for-ios%2Fsdk%communication%2FAzureCommunicationChat%2FREADME.png" alt="Impressions"></p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2023 <a class="link" href="https://azure.github.io/azure-sdk/" target="_blank" rel="external noopener">Microsoft</a>. All rights reserved. (Last updated: 2023-03-31)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy â™ªâ™« v0.14.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
